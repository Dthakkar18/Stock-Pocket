<!DOCTYPE html>

<html>
    <head>

        <!-- Required meta tags -->
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <!-- Bootstrap CSS -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

        <!-- For js charts -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.4/Chart.js"></script>

        
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <title>Detail View</title>
    </head>

    <style>
        body{
            background-color: beige;
        }
    
        h1{
            position: absolute;
            left: 35px;
            font-family: monospace;
            font-size: 40px;
            text-transform: capitalize;
            #border: 5px solid green;
            
        }
        h2{
            position: absolute;
            top: 0px;
            left: 35px;
            font-family: monospace;
            font-size: 30px;
            #border: 5px solid green;
        }
        p1{
            position: absolute;
            top: 55px;
            left: 35px;
            font-family: monospace;
            font-size: 20px;
            width: 550px;
            #border: 5px solid green;
        }
        h3{
            position: absolute;
            font-family: monospace;
            top: 0px;
            #bottom: 710px;
            text-align: center;
            font-size: 30px;
            width: 290px;
            #border: 1px solid blue;
        }
        p2{
            position: relative;
            top: 45px;
            left: 40px;
            height: 700px;
            width: 300px;
            font-family: monospace;
            font-size: 20px;
            
        }
        h4{
            position: absolute;
            font-family: monospace;
            #bottom: 705px;
            top: 0px;
            text-align: center;
            font-size: 30px;
            width: 290px;
            #border: 1px solid blue;
        }
        h5{
            position: absolute;
            text-align: left;
            top: 0px;
            left: 25px;
            font-family: monospace;
            font-size: 30px;
            width: 100px;
            #border: 1px solid green;
        }
        
        p3{
            position: relative;
            top: 45px;
            left: 40px;
            height: 700px;
            width: 300px;
            font-family: monospace;
            font-size: 20px;
            
        }
        
        p4{
            position: absolute;
            top: 45px;
            left: 25px;
            width: 800px;
            padding-bottom: 25px;
            font-family: monospace;
            font-size: 15px;
            #border: 1px solid blue;
        }
        h6{
            position: absolute;
            top: 0px;
            left: 20px;
            text-align: center;
            font-family: monospace;
            font-size: 30px;
            width: 200px;
            #border: 1px solid blue;
        }
        p5{
            position: absolute;
            top: 50px;
            left: 0px;
            font-family: monospace;
            font-size: 15px;
            width: 100px;
            #border: 1px solid red;
        }
        p6{
            position: absolute;
            top: 50px;
            left: 80px;
            font-family: monospace;
            font-size: 15px;
            width: 100px;
            #border: 1px solid green;
        }
        p7{
            position: absolute;
            top: 50px;
            right: 0px;
            font-family: monospace;
            font-size: 15px;
            width: 230px;
            text-transform: capitalize;
            #border: 1px solid black;
        }

        #stockHeader{
            position: absolute;
            border: 5px solid black;
            width: 520px;
            height: 80px;
        }

        #general{
            position: absolute;
            top: 120px;
            border: 5px solid blue;
            width: 650px;
            height: 650px;
        }

        #revenue{
            position: absolute;
            border: 5px solid black;
            top: 70px;
            right: 620px;
            width: 300px;
            height: 850px;
        }

        #profit{
            position: absolute;
            top: 70px;
            right: 220px;
            border: 5px solid black;
            width: 300px;
            height: 850px;
        }

        #about{
            position: absolute;
            top: 800px;
            width: 850px;
            height: 450px;
            border: 3px solid black;
        }

        #suggestions{
            position: relative;
            top: 1000px;
            left: 1400px;
            width: 400px;
            height: 250px;
            border: 3px solid black;
        }

        h7{
            position: absolute;
            top: 25px;
            right: 25px;
        }

        canvas{
            position: absolute;
            top: 1500px;
            left: 25px;
        }
    
    </style>

    <body>
        <a href="/people/{{ pk }}/detail">Back to Stock Selection</a>
        <div id="stockHeader">
            <h1><u>{{ company_name }} stock</u></h1>
        </div>

        <div id="general">
            <h2>General Info</h2>
            <p1>
                {% for item in gen_info %}
                <ul>{{ item }}</ul>
                {% endfor %}
                <ul>Sector: {{ sector }}</ul>
                <ul>Industry: {{ industry }}</ul>
                <ul>Full Time Employees: {{ employees }}</ul>
                <ul>Yahoo score: {{ buy_num }} --> {{ buy_word }}</ul>
            </p1>
        </div>

        <div id="note">
            <h7>**All financials in millions of USD**</h7>
        </div>

        <div id="revAndProf">
            <div id="revenue">
                <h3>Revenues</h3>
                <p2>
                    {% for item in revenues %}
                    <ul>{{ item }}</ul>
                    {% endfor %}

                </p2>
            </div>

            <div id="profit">
                <h4>Gross Profit</h4>
                <p3>
                    {% for item in profits %}
                    <ul>{{ item }}</ul>
                    {% endfor %}

                </p3>
            </div>
        </div>

        <div id="about">
            <h5>About</h5>
            <p4>
            {{ summary }}
            </p4>
        </div>

        <div id="suggestions">
            <h6>Suggestions</h6>
            <p5>
                {% for ticker in suggestion_tickers %}
                <ul><a href="https://finance.yahoo.com/quote/{{ ticker }}?p={{ ticker }}">{{ ticker }}</a> --></ul>
                {% endfor %}
            </p5>

            <p6>
                {% for price in suggestion_prices %}
                <ul>{{ price }}</ul>
                {% endfor %}

            </p6>

            <p7>
                {% for name in suggestion_names %}
                <ul>{{ name }}</ul>
                {% endfor %}
            </p7>
        </div>

        <!-- Dividend graph -->
        <canvas id="myChart" style="width:100%;max-width:600px"></canvas>
        

        <script>
            var xValues = {{ years|safe }}; // years
            var yValues = {{ amounts|safe }}; // amounts

            new Chart("myChart", {
            type: "line",
            data: {
                labels: xValues,
                datasets: [{
                    fill: false,
                    lineTension: 0,
                    backgroundColor: "rgba(0,0,255,1.0)",
                    borderColor: "rgba(0,0,255,0.1)",
                    data: yValues
                }]
            },
            options: {
                legend: {
                    display: false
                },
                scales: {
                    yAxes: [{ticks: {min: 0.00, max: yValues[-1]}}],
                },
                title:{
                    display: true,
                    text: "Dividend Growth"
                }
            }
            });
        </script>


        <!-- Option 1: Bootstrap Bundle with Popper -->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>

    </body>
</html>